<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Codebook Badge Mockup v5 — Final Decisions — Bristlenose</title>
<style>
/* ════════════════════════════════════════════════════════════
   CODEBOOK BADGE MOCKUP v5 — FINAL VISUAL DECISIONS
   ════════════════════════════════════════════════════════════

   KEY DECISIONS:

   1. MODE-DEPENDENT TREATMENT (asymmetric — not the same in both modes)
      Light mode: "washed" — BOTH AI and user tags are dark text on
        pale coloured background. 0.72rem, 90% resting opacity.
      Dark mode: AI tags = light text on dark bg (existing).
        User tags = white text on saturated coloured bg. 0.72rem, 90%.

   2. WHY ASYMMETRIC
      On light backgrounds, saturated pills dominate the quote text.
      On dark backgrounds, washed/pale pills disappear.
      Human perception isn't symmetric — neither is the treatment.

   3. TAG PLACEMENT: Inline below the quote (unchanged from current).
      Right-hand gutter and two-column layouts were explored and
      rejected. The de-emphasis (washed + 90% opacity) solves the
      dominance problem without layout changes.

   4. COLOUR PALETTE: OKLCH v5 — pentadic hue anchors, ±25° per set,
      ~12° steps, chroma 0.09-0.12. Wider hue spread than v3/v4 for
      better within-set distinguishability.

   5. HOVER: 90% → 100% opacity on blockquote hover. Enables click
      interactions (rename, filter-to-tag, co-occurrence analysis).

   Mockup files in this repo:
   - mockup-codebook-badges.html (this file — v5 final)
   - mockup-tag-placement.html (layout exploration, A/C/E variations)

   Plan: ~/.claude/plans/immutable-chasing-patterson.md
   ════════════════════════════════════════════════════════════ */

:root {
    --bn-font-body: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
    --bn-font-mono: "SF Mono", "Fira Code", "Consolas", monospace;
    --bn-colour-bg: #ffffff;
    --bn-colour-text: #1a1a1a;
    --bn-colour-muted: #6b7280;
    --bn-colour-border: #e5e7eb;
    --bn-colour-accent: #2563eb;
    --bn-colour-quote-bg: #f9fafb;

    /* AI sentiment — dark text on pale bg (both modes keep this treatment) */
    --bn-sentiment-frustration: #c2410c;
    --bn-sentiment-frustration-bg: #fff7ed;
    --bn-sentiment-confusion: #b91c1c;
    --bn-sentiment-confusion-bg: #fef2f2;
    --bn-sentiment-doubt: #6d28d9;
    --bn-sentiment-doubt-bg: #f5f3ff;
    --bn-sentiment-surprise: #b45309;
    --bn-sentiment-surprise-bg: #fffbeb;
    --bn-sentiment-satisfaction: #15803d;
    --bn-sentiment-satisfaction-bg: #f0fdf4;
    --bn-sentiment-delight: #047857;
    --bn-sentiment-delight-bg: #ecfdf5;
    --bn-sentiment-confidence: #1d4ed8;
    --bn-sentiment-confidence-bg: #eff6ff;

    /* ── USER TAG COLOURS — LIGHT MODE (washed: pale bg, dark text) ──
       oklch(94% 0.03 H) backgrounds — barely-there tinted wash
       Text colour: var(--bn-colour-text) (dark, ~#1a1a1a)
       Hue spread: ±25° per set, ~12° steps */

    /* UX set (blue, H=225-275, anchor 250) */
    --bn-ux-1-bg: oklch(94% 0.03 225);   /* usability */
    --bn-ux-2-bg: oklch(94% 0.03 237);   /* navigation */
    --bn-ux-3-bg: oklch(94% 0.03 250);   /* expectation */
    --bn-ux-4-bg: oklch(94% 0.03 263);   /* accessibility */
    --bn-ux-5-bg: oklch(94% 0.03 275);   /* performance */

    /* Emotion set (red-pink, H=340-40, anchor 10) */
    --bn-emo-1-bg: oklch(94% 0.03 340);  /* frustration */
    --bn-emo-2-bg: oklch(94% 0.03 352);  /* anxiety */
    --bn-emo-3-bg: oklch(94% 0.03 4);    /* disoriented */
    --bn-emo-4-bg: oklch(94% 0.03 16);   /* anger */
    --bn-emo-5-bg: oklch(94% 0.03 28);   /* joy */
    --bn-emo-6-bg: oklch(94% 0.03 40);   /* mismatch */

    /* Task set (green-teal, H=130-180, anchor 155) */
    --bn-role-1-bg: oklch(94% 0.03 130);  /* workflow */
    --bn-role-2-bg: oklch(94% 0.03 142);  /* tooling */
    --bn-role-3-bg: oklch(94% 0.03 155);  /* process */
    --bn-role-4-bg: oklch(94% 0.03 168);  /* stakeholder */
    --bn-role-5-bg: oklch(94% 0.03 180);  /* workaround */

    /* Trust set (purple, H=275-325, anchor 300) */
    --bn-trust-1-bg: oklch(94% 0.03 275);  /* credibility */
    --bn-trust-2-bg: oklch(94% 0.03 287);  /* privacy */
    --bn-trust-3-bg: oklch(94% 0.03 300);  /* security */
    --bn-trust-4-bg: oklch(94% 0.03 313);  /* proof */
    --bn-trust-5-bg: oklch(94% 0.03 325);  /* compliance */

    /* Opportunity set (amber, H=50-100, anchor 75) */
    --bn-opp-1-bg: oklch(94% 0.03 50);   /* request */
    --bn-opp-2-bg: oklch(94% 0.03 62);   /* need */
    --bn-opp-3-bg: oklch(94% 0.03 75);   /* competitor */
    --bn-opp-4-bg: oklch(94% 0.03 88);   /* willingness */
    --bn-opp-5-bg: oklch(94% 0.03 100);  /* value */

    /* Custom / ungrouped */
    --bn-custom-bg: oklch(94% 0.005 260);

    /* Set tints (codebook panel card backgrounds) */
    --bn-set-ux-tint: oklch(97% 0.015 250);
    --bn-set-emo-tint: oklch(97% 0.012 10);
    --bn-set-role-tint: oklch(97% 0.015 155);
    --bn-set-trust-tint: oklch(97% 0.015 300);
    --bn-set-opp-tint: oklch(97% 0.015 75);

    /* Set dots (saturated anchors for codebook panel dot indicators) */
    --bn-set-ux-dot: oklch(50% 0.12 250);
    --bn-set-emo-dot: oklch(50% 0.12 10);
    --bn-set-role-dot: oklch(50% 0.10 155);
    --bn-set-trust-dot: oklch(50% 0.11 300);
    --bn-set-opp-dot: oklch(52% 0.11 75);

    --bn-space-xs: 0.15rem;
    --bn-space-md: 0.75rem;
    --bn-radius-sm: 3px;
    --bn-radius-md: 6px;
    --bn-max-width: 56rem;
}

/* ── Dark mode ── */
[data-theme="dark"] {
    color-scheme: dark;
    --bn-colour-bg: #111111;
    --bn-colour-text: #e5e7eb;
    --bn-colour-muted: #9ca3af;
    --bn-colour-border: #2d2d2d;
    --bn-colour-accent: #60a5fa;
    --bn-colour-quote-bg: #1a1a1a;

    --bn-sentiment-frustration: #fb923c;
    --bn-sentiment-frustration-bg: #2d1d0e;
    --bn-sentiment-confusion: #f87171;
    --bn-sentiment-confusion-bg: #2d1515;
    --bn-sentiment-doubt: #a78bfa;
    --bn-sentiment-doubt-bg: #1e1533;
    --bn-sentiment-surprise: #fbbf24;
    --bn-sentiment-surprise-bg: #2d2305;
    --bn-sentiment-satisfaction: #4ade80;
    --bn-sentiment-satisfaction-bg: #0f2918;
    --bn-sentiment-delight: #34d399;
    --bn-sentiment-delight-bg: #0d261c;
    --bn-sentiment-confidence: #60a5fa;
    --bn-sentiment-confidence-bg: #111d2e;

    /* Dark mode user tags: WHITE TEXT on SATURATED bg
       oklch(50-55% 0.10-0.12 H) — mid-dark, white readable */
    --bn-ux-1-bg: oklch(50% 0.12 225);
    --bn-ux-2-bg: oklch(48% 0.11 237);
    --bn-ux-3-bg: oklch(53% 0.12 250);
    --bn-ux-4-bg: oklch(55% 0.10 263);
    --bn-ux-5-bg: oklch(49% 0.11 275);
    --bn-emo-1-bg: oklch(50% 0.12 340);
    --bn-emo-2-bg: oklch(48% 0.11 352);
    --bn-emo-3-bg: oklch(53% 0.10 4);
    --bn-emo-4-bg: oklch(49% 0.12 16);
    --bn-emo-5-bg: oklch(55% 0.10 28);
    --bn-emo-6-bg: oklch(51% 0.11 40);
    --bn-role-1-bg: oklch(50% 0.10 130);
    --bn-role-2-bg: oklch(48% 0.09 142);
    --bn-role-3-bg: oklch(53% 0.09 155);
    --bn-role-4-bg: oklch(49% 0.10 168);
    --bn-role-5-bg: oklch(51% 0.09 180);
    --bn-trust-1-bg: oklch(50% 0.11 275);
    --bn-trust-2-bg: oklch(48% 0.10 287);
    --bn-trust-3-bg: oklch(53% 0.10 300);
    --bn-trust-4-bg: oklch(49% 0.11 313);
    --bn-trust-5-bg: oklch(51% 0.10 325);
    --bn-opp-1-bg: oklch(52% 0.11 50);
    --bn-opp-2-bg: oklch(50% 0.10 62);
    --bn-opp-3-bg: oklch(54% 0.12 75);
    --bn-opp-4-bg: oklch(48% 0.10 88);
    --bn-opp-5-bg: oklch(51% 0.11 100);
    --bn-custom-bg: oklch(52% 0.02 260);

    --bn-set-ux-tint: oklch(18% 0.015 250);
    --bn-set-emo-tint: oklch(18% 0.012 10);
    --bn-set-role-tint: oklch(18% 0.015 155);
    --bn-set-trust-tint: oklch(18% 0.015 300);
    --bn-set-opp-tint: oklch(18% 0.015 75);

    --bn-set-ux-dot: oklch(60% 0.10 250);
    --bn-set-emo-dot: oklch(60% 0.10 10);
    --bn-set-role-dot: oklch(60% 0.08 155);
    --bn-set-trust-dot: oklch(60% 0.09 300);
    --bn-set-opp-dot: oklch(62% 0.09 75);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body {
    font-family: var(--bn-font-body);
    background: var(--bn-colour-bg);
    color: var(--bn-colour-text);
    max-width: var(--bn-max-width);
    margin: 2rem auto;
    padding: 0 1.5rem;
    line-height: 1.6;
    transition: background 0.2s, color 0.2s;
}
h1 { font-size: 1.3rem; font-weight: 600; margin-bottom: 0.3rem; }
h2 { font-size: 1rem; font-weight: 600; margin-top: 2rem; margin-bottom: 0.5rem; }
h3 { font-size: 0.85rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; color: var(--bn-colour-muted); text-transform: uppercase; letter-spacing: 0.05em; }
.subtitle { color: var(--bn-colour-muted); font-size: 0.85rem; margin-bottom: 2rem; }
.note { color: var(--bn-colour-muted); font-size: 0.78rem; margin-bottom: 1rem; }

/* ── Blockquote ── */
blockquote {
    background: var(--bn-colour-quote-bg);
    border-left: 1px solid var(--bn-colour-border);
    margin: 0.8rem 0;
    padding: var(--bn-space-md) 1rem;
    border-radius: 0 var(--bn-radius-md) var(--bn-radius-md) 0;
}
blockquote:hover .badges { opacity: 1; }
blockquote .context { display: block; color: var(--bn-colour-muted); font-size: 0.85rem; margin-bottom: 0.3rem; }
blockquote .quote-row { display: flex; gap: 0.5rem; align-items: baseline; }
blockquote .timecode { color: var(--bn-colour-accent); font-family: var(--bn-font-mono); font-size: 0.8rem; flex-shrink: 0; }
.tc { color: var(--bn-colour-muted); }
blockquote .quote-body { flex: 1; min-width: 0; }
blockquote .speaker { color: var(--bn-colour-muted); font-size: 0.9rem; }

/* ── Badges ── */
.badges {
    margin-top: 0.35rem;
    display: flex; flex-wrap: wrap; gap: 0.3rem; align-items: center;
    opacity: 0.9;
    transition: opacity 0.15s ease;
}
.badge {
    display: inline-block;
    font-family: var(--bn-font-mono);
    font-size: 0.72rem;
    padding: var(--bn-space-xs) 0.45rem;
    border-radius: var(--bn-radius-sm);
}

/* AI tags — dark text on pale bg (same in both modes) */
.badge-ai { cursor: default; }
.badge-frustration { background: var(--bn-sentiment-frustration-bg); color: var(--bn-sentiment-frustration); }
.badge-confusion   { background: var(--bn-sentiment-confusion-bg);   color: var(--bn-sentiment-confusion); }
.badge-doubt       { background: var(--bn-sentiment-doubt-bg);       color: var(--bn-sentiment-doubt); }
.badge-surprise    { background: var(--bn-sentiment-surprise-bg);    color: var(--bn-sentiment-surprise); }
.badge-satisfaction { background: var(--bn-sentiment-satisfaction-bg); color: var(--bn-sentiment-satisfaction); }
.badge-delight     { background: var(--bn-sentiment-delight-bg);     color: var(--bn-sentiment-delight); }
.badge-confidence  { background: var(--bn-sentiment-confidence-bg);  color: var(--bn-sentiment-confidence); }

/* User tags — mode-dependent treatment */
.badge-user {
    cursor: default;
    font-weight: 400;
    color: var(--bn-colour-text);  /* dark text in light mode */
}

/* Dark mode: user tags switch to white-on-saturated */
[data-theme="dark"] .badge-user {
    color: #ffffff;
    font-weight: 500;
}

.badge-add {
    border: 1px dashed var(--bn-colour-border); background: transparent;
    color: var(--bn-colour-muted); cursor: pointer; user-select: none;
}
body.hide-ai-tags .badge-ai { display: none; }

/* Toolbar */
.toolbar {
    display: flex; align-items: center; gap: 1rem;
    margin: 1rem 0; flex-wrap: wrap;
}
.toolbar-group { display: flex; align-items: center; gap: 0.4rem; font-size: 0.78rem; color: var(--bn-colour-muted); }
.toolbar-group label { cursor: pointer; user-select: none; }
.toolbar-divider { width: 1px; height: 1.2rem; background: var(--bn-colour-border); }
.theme-toggle {
    display: inline-flex; align-items: center; gap: 0.3rem;
    padding: 0.2rem 0.5rem; border: 1px solid var(--bn-colour-border);
    border-radius: var(--bn-radius-md); background: transparent;
    color: var(--bn-colour-muted); font-family: var(--bn-font-body);
    font-size: 0.75rem; cursor: pointer; user-select: none;
}
.theme-toggle:hover { border-color: var(--bn-colour-accent); color: var(--bn-colour-accent); }

.section-divider { border: none; border-top: 1px solid var(--bn-colour-border); margin: 2rem 0; }
.legend { display: flex; gap: 1.5rem; margin: 1rem 0; font-size: 0.8rem; color: var(--bn-colour-muted); flex-wrap: wrap; }
.legend-item { display: flex; align-items: center; gap: 0.4rem; }

/* Set cards (codebook panel reference) */
.set-card { border: 1px solid var(--bn-colour-border); border-radius: var(--bn-radius-md); padding: 1rem 1.25rem; margin: 0.75rem 0; }
.set-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.6rem; }
.set-dot { width: 0.6rem; height: 0.6rem; border-radius: 50%; display: inline-block; flex-shrink: 0; }
.set-name { font-weight: 600; font-size: 0.85rem; }
.set-meta { font-size: 0.72rem; color: var(--bn-colour-muted); font-family: var(--bn-font-mono); margin-left: auto; }
.set-tags { display: flex; flex-wrap: wrap; gap: 0.3rem; }
</style>
</head>
<body>

<h1>Codebook Badge Mockup v5 — Final</h1>
<p class="subtitle">
    Mode-dependent treatment. Light: washed (pale bg, dark text) for both AI and user tags.
    Dark: AI stays pale-on-dark; user tags switch to white-on-saturated.
    0.72rem, 90% resting opacity, 100% on hover.
</p>

<div class="toolbar">
    <div class="toolbar-group">
        <input type="checkbox" id="ai-toggle" checked>
        <label for="ai-toggle">AI tags</label>
    </div>
    <div class="toolbar-divider"></div>
    <button class="theme-toggle" id="theme-toggle">
        <span id="theme-icon">&#9789;</span>
        <span id="theme-label">Dark</span>
    </button>
</div>

<div class="legend">
    <div class="legend-item">
        <span class="badge badge-ai badge-frustration" style="font-size:0.65rem">frustration</span>
        <span>= AI sentiment tag</span>
    </div>
    <div class="legend-item">
        <span class="badge badge-user" style="background:var(--bn-ux-2-bg); font-size:0.65rem">navigation</span>
        <span>= User tag (washed in light, saturated in dark)</span>
    </div>
    <div class="legend-item">
        <span class="badge badge-user" style="background:var(--bn-custom-bg); font-size:0.65rem">follow-up</span>
        <span>= Custom / ungrouped</span>
    </div>
</div>

<hr class="section-divider">

<h2>Checkout Flow</h2>

<blockquote>
    <span class="context">When asked to complete a purchase</span>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>04:23<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"I keep clicking 'Continue' but nothing happens... I've tried three times now. Is the site broken or am I doing something wrong?"</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p1</span>
            <div class="badges">
                <span class="badge badge-ai badge-frustration">frustration</span>
                <span class="badge badge-user" style="background:var(--bn-ux-1-bg)">usability</span>
                <span class="badge badge-user" style="background:var(--bn-ux-5-bg)">performance</span>
                <span class="badge badge-user" style="background:var(--bn-opp-1-bg)">request</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>06:11<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"Wait, where did my basket go? I was just on the checkout page and now I'm... on the homepage? I don't understand what happened."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p3</span>
            <div class="badges">
                <span class="badge badge-ai badge-confusion">confusion</span>
                <span class="badge badge-user" style="background:var(--bn-ux-2-bg)">navigation</span>
                <span class="badge badge-user" style="background:var(--bn-emo-3-bg)">disoriented</span>
                <span class="badge badge-user" style="background:var(--bn-custom-bg)">basket</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>08:45<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"I'm not sure I'd put my card details in here. There's no padlock icon and the URL looks weird... it just doesn't feel like a real checkout page."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p2</span>
            <div class="badges">
                <span class="badge badge-ai badge-doubt">doubt</span>
                <span class="badge badge-user" style="background:var(--bn-trust-1-bg)">credibility</span>
                <span class="badge badge-user" style="background:var(--bn-trust-3-bg)">security</span>
                <span class="badge badge-user" style="background:var(--bn-trust-2-bg)">privacy</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<h2>Search &amp; Navigation</h2>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>12:30<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"Oh nice, the search actually shows results as I type. That's exactly what I'd expect from a site like this."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p1</span>
            <div class="badges">
                <span class="badge badge-ai badge-satisfaction">satisfaction</span>
                <span class="badge badge-user" style="background:var(--bn-ux-3-bg)">expectation</span>
                <span class="badge badge-user" style="background:var(--bn-custom-bg)">search</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>14:02<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"Oh I love this! You can just drag things into the basket without leaving the page? That's really clever, I wish every site did that."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p4</span>
            <div class="badges">
                <span class="badge badge-ai badge-delight">delight</span>
                <span class="badge badge-user" style="background:var(--bn-emo-5-bg)">joy</span>
                <span class="badge badge-user" style="background:var(--bn-opp-2-bg)">need</span>
                <span class="badge badge-user" style="background:var(--bn-custom-bg)">basket</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>16:55<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"Huh, that's not what I expected at all. I clicked 'Filters' and it took me to a completely different page instead of opening a panel."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p2</span>
            <div class="badges">
                <span class="badge badge-ai badge-surprise">surprise</span>
                <span class="badge badge-user" style="background:var(--bn-ux-2-bg)">navigation</span>
                <span class="badge badge-user" style="background:var(--bn-emo-6-bg)">mismatch</span>
                <span class="badge badge-user" style="background:var(--bn-custom-bg)">filters</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>19:18<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"I know exactly what to do here. The layout is really clear — basket on the right, delivery options, payment. Standard stuff, no surprises."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p5</span>
            <div class="badges">
                <span class="badge badge-ai badge-confidence">confidence</span>
                <span class="badge badge-user" style="background:var(--bn-ux-3-bg)">expectation</span>
                <span class="badge badge-user" style="background:var(--bn-custom-bg)">checkout</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<h2>General Context (Themes)</h2>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>22:40<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"In my day job I'm switching between Slack, Jira, and about four different spreadsheets just to track one project. It's... exhausting, honestly."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p3</span>
            <div class="badges">
                <span class="badge badge-ai badge-frustration">frustration</span>
                <span class="badge badge-user" style="background:var(--bn-role-2-bg)">tooling</span>
                <span class="badge badge-user" style="background:var(--bn-role-1-bg)">workflow</span>
                <span class="badge badge-user" style="background:var(--bn-opp-2-bg)">need</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>25:03<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"We usually do a team standup at nine, check the dashboard, then just... react to whatever fires come in. There isn't really a structured process."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p1</span>
            <div class="badges">
                <span class="badge badge-user" style="background:var(--bn-role-1-bg)">workflow</span>
                <span class="badge badge-user" style="background:var(--bn-role-3-bg)">process</span>
                <span class="badge badge-user" style="background:var(--bn-role-5-bg)">workaround</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <span class="context">When asked about their experience with competitor products</span>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>28:17<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"The other tool we tried had this brilliant feature where you could just... tag everything in bulk and then see it all on a board. We don't have anything like that. I'd pay extra for it."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p4</span>
            <div class="badges">
                <span class="badge badge-ai badge-delight">delight</span>
                <span class="badge badge-user" style="background:var(--bn-opp-1-bg)">request</span>
                <span class="badge badge-user" style="background:var(--bn-opp-3-bg)">competitor</span>
                <span class="badge badge-user" style="background:var(--bn-opp-4-bg)">willingness</span>
                <span class="badge badge-user" style="background:var(--bn-role-2-bg)">tooling</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>31:05<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"My manager would never approve a tool that stores data outside the EU. That's the first thing she'd ask — where's the data going?"</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p2</span>
            <div class="badges">
                <span class="badge badge-ai badge-doubt">doubt</span>
                <span class="badge badge-user" style="background:var(--bn-trust-2-bg)">privacy</span>
                <span class="badge badge-user" style="background:var(--bn-trust-5-bg)">compliance</span>
                <span class="badge badge-user" style="background:var(--bn-emo-2-bg)">anxiety</span>
                <span class="badge badge-user" style="background:var(--bn-role-4-bg)">stakeholder</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<blockquote>
    <div class="quote-row">
        <span class="timecode"><span class="tc">[</span>34:22<span class="tc">]</span></span>
        <div class="quote-body">
            <span>"The delivery estimate said 3-5 days but then at checkout it changed to 7-10. That's annoying — I was making a decision based on the faster number."</span>
            <span class="speaker">&nbsp;&mdash;&nbsp;p5</span>
            <div class="badges">
                <span class="badge badge-ai badge-frustration">frustration</span>
                <span class="badge badge-user" style="background:var(--bn-trust-1-bg)">credibility</span>
                <span class="badge badge-user" style="background:var(--bn-emo-1-bg)">frustration</span>
                <span class="badge badge-user" style="background:var(--bn-custom-bg)">delivery</span>
                <span class="badge badge-user" style="background:var(--bn-custom-bg)">checkout</span>
                <span class="badge badge-add">+</span>
            </div>
        </div>
    </div>
</blockquote>

<hr class="section-divider">

<h3>Codebook Sets — OKLCH v5</h3>
<p class="note">
    5 sets at pentadic hue anchors (~72° apart). ±25° range per set, ~12° steps.
    Light mode: washed bg (L=94%, C=0.03). Dark mode: saturated bg (L=48-55%, C=0.09-0.12).
</p>

<div class="set-card" style="background:var(--bn-set-ux-tint)">
    <div class="set-header">
        <span class="set-dot" style="background:var(--bn-set-ux-dot)"></span>
        <span class="set-name">UX</span>
        <span class="set-meta">H 225-275 · blue</span>
    </div>
    <div class="set-tags">
        <span class="badge badge-user" style="background:var(--bn-ux-1-bg)">usability</span>
        <span class="badge badge-user" style="background:var(--bn-ux-2-bg)">navigation</span>
        <span class="badge badge-user" style="background:var(--bn-ux-3-bg)">expectation</span>
        <span class="badge badge-user" style="background:var(--bn-ux-4-bg)">accessibility</span>
        <span class="badge badge-user" style="background:var(--bn-ux-5-bg)">performance</span>
    </div>
</div>

<div class="set-card" style="background:var(--bn-set-emo-tint)">
    <div class="set-header">
        <span class="set-dot" style="background:var(--bn-set-emo-dot)"></span>
        <span class="set-name">Emotion</span>
        <span class="set-meta">H 340-40 · red-pink</span>
    </div>
    <div class="set-tags">
        <span class="badge badge-user" style="background:var(--bn-emo-1-bg)">frustration</span>
        <span class="badge badge-user" style="background:var(--bn-emo-2-bg)">anxiety</span>
        <span class="badge badge-user" style="background:var(--bn-emo-3-bg)">disoriented</span>
        <span class="badge badge-user" style="background:var(--bn-emo-4-bg)">anger</span>
        <span class="badge badge-user" style="background:var(--bn-emo-5-bg)">joy</span>
        <span class="badge badge-user" style="background:var(--bn-emo-6-bg)">mismatch</span>
    </div>
</div>

<div class="set-card" style="background:var(--bn-set-role-tint)">
    <div class="set-header">
        <span class="set-dot" style="background:var(--bn-set-role-dot)"></span>
        <span class="set-name">Task</span>
        <span class="set-meta">H 130-180 · green-teal</span>
    </div>
    <div class="set-tags">
        <span class="badge badge-user" style="background:var(--bn-role-1-bg)">workflow</span>
        <span class="badge badge-user" style="background:var(--bn-role-2-bg)">tooling</span>
        <span class="badge badge-user" style="background:var(--bn-role-3-bg)">process</span>
        <span class="badge badge-user" style="background:var(--bn-role-4-bg)">stakeholder</span>
        <span class="badge badge-user" style="background:var(--bn-role-5-bg)">workaround</span>
    </div>
</div>

<div class="set-card" style="background:var(--bn-set-trust-tint)">
    <div class="set-header">
        <span class="set-dot" style="background:var(--bn-set-trust-dot)"></span>
        <span class="set-name">Trust</span>
        <span class="set-meta">H 275-325 · purple</span>
    </div>
    <div class="set-tags">
        <span class="badge badge-user" style="background:var(--bn-trust-1-bg)">credibility</span>
        <span class="badge badge-user" style="background:var(--bn-trust-2-bg)">privacy</span>
        <span class="badge badge-user" style="background:var(--bn-trust-3-bg)">security</span>
        <span class="badge badge-user" style="background:var(--bn-trust-4-bg)">proof</span>
        <span class="badge badge-user" style="background:var(--bn-trust-5-bg)">compliance</span>
    </div>
</div>

<div class="set-card" style="background:var(--bn-set-opp-tint)">
    <div class="set-header">
        <span class="set-dot" style="background:var(--bn-set-opp-dot)"></span>
        <span class="set-name">Opportunity</span>
        <span class="set-meta">H 50-100 · amber</span>
    </div>
    <div class="set-tags">
        <span class="badge badge-user" style="background:var(--bn-opp-1-bg)">request</span>
        <span class="badge badge-user" style="background:var(--bn-opp-2-bg)">need</span>
        <span class="badge badge-user" style="background:var(--bn-opp-3-bg)">competitor</span>
        <span class="badge badge-user" style="background:var(--bn-opp-4-bg)">willingness</span>
        <span class="badge badge-user" style="background:var(--bn-opp-5-bg)">value</span>
    </div>
</div>

<div class="set-card">
    <div class="set-header">
        <span class="set-dot" style="background:var(--bn-custom-bg); border: 1px solid var(--bn-colour-border)"></span>
        <span class="set-name">FurniCo Checkout</span>
        <span class="set-meta">custom · this study</span>
    </div>
    <div class="set-tags">
        <span class="badge badge-user" style="background:var(--bn-custom-bg)">basket</span>
        <span class="badge badge-user" style="background:var(--bn-custom-bg)">checkout</span>
        <span class="badge badge-user" style="background:var(--bn-custom-bg)">delivery</span>
        <span class="badge badge-user" style="background:var(--bn-custom-bg)">search</span>
        <span class="badge badge-user" style="background:var(--bn-custom-bg)">filters</span>
    </div>
</div>

<h3 style="margin-top:2rem">AI Sentiment Reference</h3>
<p class="note">Auto-generated. Dark text on pale bg in both modes. Toggle above to hide.</p>
<div style="display:flex; flex-wrap:wrap; gap:0.3rem;">
    <span class="badge badge-ai badge-frustration">frustration</span>
    <span class="badge badge-ai badge-confusion">confusion</span>
    <span class="badge badge-ai badge-doubt">doubt</span>
    <span class="badge badge-ai badge-surprise">surprise</span>
    <span class="badge badge-ai badge-satisfaction">satisfaction</span>
    <span class="badge badge-ai badge-delight">delight</span>
    <span class="badge badge-ai badge-confidence">confidence</span>
</div>

<hr class="section-divider">

<h3>Design Decisions (v5)</h3>
<p class="note" style="max-width:50rem; line-height:1.8">
    <strong>Light mode:</strong> Both AI and user tags use dark text on pale background ("washed"). User tags at <code>oklch(94% 0.03 H)</code> — barely-there tinted wash. Quote text dominates; tags are quiet metadata.<br>
    <strong>Dark mode:</strong> AI tags keep existing dark-mode treatment (light text on dark-muted bg). User tags switch to white text on saturated coloured bg (<code>oklch(50-55% 0.10-0.12 H)</code>). Saturated pills work on dark backgrounds without dominating.<br>
    <strong>Opacity:</strong> 90% resting, 100% on blockquote hover. Hover signals interactivity (click for rename/filter/analyse).<br>
    <strong>Font:</strong> 0.72rem throughout (no reduction).<br>
    <strong>Placement:</strong> Inline below quote (unchanged). Right-hand gutter and two-column layouts explored in <code>mockup-tag-placement.html</code> and rejected.<br>
    <strong>Hue spread:</strong> ±25° per set (50° total, up from v3's ±12°). ~12° steps between tags. Better within-set distinguishability.<br>
    <strong>Chroma:</strong> 0.09-0.12 for saturated badges (dark mode), 0.03 for washed badges (light mode). Calmed from v3's 0.13-0.19.<br>
    <strong>Tag names:</strong> Mostly single word. Two words only where one is ambiguous.<br>
    <strong>AI workflow:</strong> AI tags bootstrap analysis (spot frustrations, find patterns). Once user tags are applied, AI becomes redundant — toggle off. This is the intended flow.
</p>

<script>
document.getElementById('ai-toggle').addEventListener('change', function() {
    document.body.classList.toggle('hide-ai-tags', !this.checked);
});
document.getElementById('theme-toggle').addEventListener('click', function() {
    var html = document.documentElement;
    var isDark = html.getAttribute('data-theme') === 'dark';
    html.setAttribute('data-theme', isDark ? 'light' : 'dark');
    document.getElementById('theme-icon').innerHTML = isDark ? '&#9789;' : '&#9788;';
    document.getElementById('theme-label').textContent = isDark ? 'Dark' : 'Light';
});
</script>

</body>
</html>
